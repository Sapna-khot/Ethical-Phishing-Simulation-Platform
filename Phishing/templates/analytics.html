"""{% extends "base.html" %}
{% block content %}
<div class="card">
    <h2>Analytics Dashboard</h2>
    <div class="stats-grid">
        <div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
            <h3>{{ stats.total_campaigns }}</h3><p>Campaigns</p>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
            <h3>{{ stats.total_targets }}</h3><p>Targets</p>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
            <h3>{{ stats.total_clicked }}</h3><p>Clicked</p>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
            <h3>{{ stats.total_submitted }}</h3><p>Submitted</p>
        </div>
    </div>
</div>

{% if stats.total_sent > 0 %}
<div class="card">
    <h3>Overall Performance</h3>
    <p>Click Rate: <strong>{{ stats.get('overall_click_rate', 0) }}%</strong></p>
    <p>Submit Rate: <strong>{{ stats.get('overall_submit_rate', 0) }}%</strong></p>
</div>
{% endif %}

<div class="card">
    <h3>Campaign Performance</h3>
    {% if campaigns %}
    <table>
        <thead><tr><th>Campaign</th><th>Targets</th><th>Sent</th><th>Opened</th><th>Clicked</th><th>Submitted</th></tr></thead>
        <tbody>
            {% for c in campaigns %}
            {% set sent = c.targets|selectattr('sent_at')|list|length %}
            {% set opened = c.targets|selectattr('opened_at')|list|length %}
            {% set clicked = c.targets|selectattr('clicked_at')|list|length %}
            {% set submitted = c.targets|selectattr('submitted_at')|list|length %}
            <tr>
                <td>{{ c.name }}</td>
                <td>{{ c.targets|length }}</td>
                <td>{{ sent }}</td>
                <td>{{ opened }}</td>
                <td>{{ clicked }}</td>
                <td>{{ submitted }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p style="color: #7f8c8d;">No campaigns to analyze.</p>
    {% endif %}
</div>
{% endblock %}
""",